<div>
  <div
    class="flex items-center gap-2 px-2 py-1 rounded cursor-pointer hover:bg-gray-200 select-none"
    [ngClass]="{ 'font-semibold text-blue-700': item.type === 'folder' }"
    (click)="item.type === 'folder' && toggle()"
  >
    @if(item.type === 'folder') {
    <svg
      [class.rotate-90]="expanded"
      class="w-3 h-3 transition-transform ml-auto"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      viewBox="0 0 24 24"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
    </svg>
    }
    <img
      [src]="iconBaseUrl + item.icon"
      [alt]="item.name + ' icon'"
      class="w-4 h-4"
      (error)="
        item.type === 'folder'
          ? ($event.target.src = iconBaseUrl + 'folder.svg')
          : ($event.target.src = iconBaseUrl + 'file.svg')
      "
    />
    <span class="truncate flex-1">{{ item.name }}</span>
  </div>

  @if(item.children && expanded) {
  <div class="ml-4 border-l border-gray-200 pl-2">
    @for(child of item.children; track child.name) {
    <struct-folder [item]="child"></struct-folder>
    }
  </div>
  }
</div>
